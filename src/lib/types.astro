---
import type { ProjectProps } from "@projects/[slug].astro";
import type { PublicationsListingProps } from "@publications/index.astro";
import type { NewsOrPressItemProps, PressListingProps } from "@press/index.astro";
import type { ImageFormat } from "@sanity/image-url/lib/types/types";
import type { SanityImagePalette } from "@sanity/client";
import type { TypedObject } from "astro-portabletext/types";
import type { ProjectsListingProps } from "@projects/index.astro";
import type { HomepageProps } from "@root/pages/index.astro";
import type { PublicationProps } from "@publications/[slug].astro";
import type { ComplexDateProps } from "@components/ComplexDate.astro";

export type SanityImageMetadataObject = {
	metadata: {
		lqip: string;
		isOpaque: boolean;
		dimensions: {
			height: number;
			width: number;
			aspectRatio: number;
		};
		palette: {
			muted: SanityImagePalette;
			lightMuted: SanityImagePalette;
			darkMuted: SanityImagePalette;
			vibrant: SanityImagePalette;
			lightVibrant: SanityImagePalette;
			darkVibrant: SanityImagePalette;
			dominant: SanityImagePalette;
		};
		extension: ImageFormat;
	};
};

export type RecordProps = ProjectProps | PublicationProps | NewsOrPressItemProps | StoryProps;

export type ListingProps = HomepageProps | ProjectsListingProps | PublicationsListingProps | PressListingProps;

export type TagNames = "types" | "collections" | "subjects" | "locations";

export type StoryProps = {
	type: "story",
	date: ComplexDateProps & {
		sortDate: string;
	};
	body: TypedObject[];
};

export type TypeProps = {
	type: "type";
	slug: { current: string; };
	name: string;
};

export type CollectionProps = {
	type: "collection";
	slug: { current: string; };
	description: string | TypedObject[];
	name: string;
};

export type SubjectProps = {
	type: "subject";
	slug: { current: string; };
	name: string;
};

export type LocationProps = {
	type: "location";
	name: string;
	locale: string;
};
---